#!/usr/bin/env ruby

require_relative '../lib/rubyhome'

accessory_information = Rubyhome::AccessoryFactory.create(:accessory_information)
fan = Rubyhome::AccessoryFactory.create(:fan)

fan.characteristic(:on).on(:updated) do |new_value|
  if new_value == 1
    puts "Fan switched on"
  else
    puts "Fan switched off"
  end
end

Rubyhome::Broadcast.run
